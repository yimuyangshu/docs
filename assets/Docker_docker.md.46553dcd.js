import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.01af844e.js";const C=JSON.parse('{"title":"Docker","description":"","frontmatter":{},"headers":[],"relativePath":"Docker/docker.md","filePath":"Docker/docker.md"}'),p={name:"Docker/docker.md"},o=l(`<h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h1><p><a href="https://hub.docker.com" target="_blank" rel="noreferrer">docker hub</a></p><h2 id="docker-安装" tabindex="-1">Docker 安装 <a class="header-anchor" href="#docker-安装" aria-label="Permalink to &quot;Docker 安装&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-sSL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://get.docker.com/</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sh</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker.service</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-sSL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://get.docker.com/</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sh</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker.service</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">后台运行</span></span>
<span class="line"><span style="color:#B392F0;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">端口映射</span></span>
<span class="line"><span style="color:#B392F0;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">目录映射</span></span>
<span class="line"><span style="color:#B392F0;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">环境变量</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">或</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">容器终端键入export</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">XXXX</span></span>
<span class="line"><span style="color:#B392F0;">-itd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">后台运行交互式容器</span></span>
<span class="line"><span style="color:#B392F0;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">容器名称</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">镜像</span></span>
<span class="line"><span style="color:#B392F0;">--restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">自启动</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">no</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">默认</span><span style="color:#E1E4E8;">)  </span><span style="color:#9ECBFF;">always</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">总是</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">--link</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">容器名:容器别名</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">可以通过代理直接访问容器内部的端口服务</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">如下</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HTTP_PROXY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ALL_PROXY</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">http://容器别名:端口</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/localtime:/etc/localtime:ro</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># 时区共享(注:php-fpm的时区也需要调整)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">后台运行</span></span>
<span class="line"><span style="color:#6F42C1;">-p</span><span style="color:#24292E;"> </span><span style="color:#032F62;">端口映射</span></span>
<span class="line"><span style="color:#6F42C1;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">目录映射</span></span>
<span class="line"><span style="color:#6F42C1;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">环境变量</span><span style="color:#24292E;"> </span><span style="color:#032F62;">或</span><span style="color:#24292E;"> </span><span style="color:#032F62;">容器终端键入export</span><span style="color:#24292E;"> </span><span style="color:#032F62;">XXXX</span></span>
<span class="line"><span style="color:#6F42C1;">-itd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">后台运行交互式容器</span></span>
<span class="line"><span style="color:#6F42C1;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">容器名称</span><span style="color:#24292E;"> </span><span style="color:#032F62;">镜像</span></span>
<span class="line"><span style="color:#6F42C1;">--restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">自启动</span><span style="color:#24292E;"> </span><span style="color:#032F62;">no</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">默认</span><span style="color:#24292E;">)  </span><span style="color:#032F62;">always</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">总是</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">--link</span><span style="color:#24292E;"> </span><span style="color:#032F62;">容器名:容器别名</span><span style="color:#24292E;">  </span><span style="color:#032F62;">可以通过代理直接访问容器内部的端口服务</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">如下</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HTTP_PROXY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ALL_PROXY</span><span style="color:#24292E;">  </span><span style="color:#032F62;">http://容器别名:端口</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/localtime:/etc/localtime:ro</span><span style="color:#24292E;">  </span><span style="color:#6A737D;"># 时区共享(注:php-fpm的时区也需要调整)</span></span></code></pre></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 查看容器列表</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ps</span><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># 已启动</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ps</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 所有</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 容器状态</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stats</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 启动/停止/重启指定容器</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start/stop/restart</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">container-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 进入指定容器的终端</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">container-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 改变容器重启策略 / 挂载卷 / 网络设置 / 资源限制(cpu、内存)</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--restart=always</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">container-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 查看容器列表</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ps</span><span style="color:#24292E;">    </span><span style="color:#6A737D;"># 已启动</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ps</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 所有</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 容器状态</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stats</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 启动/停止/重启指定容器</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start/stop/restart</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">container-i</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 进入指定容器的终端</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">container-i</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 改变容器重启策略 / 挂载卷 / 网络设置 / 资源限制(cpu、内存)</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--restart=always</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">container-i</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h3 id="卷的操作" tabindex="-1">卷的操作 <a class="header-anchor" href="#卷的操作" aria-label="Permalink to &quot;卷的操作&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 列出所有卷</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span></span>
<span class="line"><span style="color:#6A737D;"># 通过名称 or ID删除指定卷</span></span>
<span class="line"><span style="color:#9ECBFF;">\`\`\`</span><span style="color:#B392F0;">shell</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#9ECBFF;"> volume rm </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">volume_name_or_id</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 列出所有卷</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span></span>
<span class="line"><span style="color:#6A737D;"># 通过名称 or ID删除指定卷</span></span>
<span class="line"><span style="color:#032F62;">\`\`\`</span><span style="color:#6F42C1;">shell</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#032F62;"> volume rm </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">volume_name_or_id</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h3 id="获取容器的ip" tabindex="-1">获取容器的IP <a class="header-anchor" href="#获取容器的ip" aria-label="Permalink to &quot;获取容器的IP&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">inspect</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">container_name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">inspect</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-f</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">container_name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">inspect</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">container_name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">inspect</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-f</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">container_name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h2 id="mysql5-7" tabindex="-1">Mysql5.7 <a class="header-anchor" href="#mysql5-7" aria-label="Permalink to &quot;Mysql5.7&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3307</span><span style="color:#9ECBFF;">:3306</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MYSQL_ROOT_PASSWORD=root</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql:5.7</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--character-set-server=utf8mb4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--collation-server=utf8mb4_general_ci</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3307</span><span style="color:#032F62;">:3306</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MYSQL_ROOT_PASSWORD=root</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql:5.7</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--character-set-server=utf8mb4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--collation-server=utf8mb4_general_ci</span></span></code></pre></div><h2 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">​</a></h2><p>redis 是否只读 no</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">redis</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">6379</span><span style="color:#9ECBFF;">:6379</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">redis:7.0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--slave-read-only</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">no</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">redis</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">6379</span><span style="color:#032F62;">:6379</span><span style="color:#24292E;"> </span><span style="color:#032F62;">redis:7.0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--slave-read-only</span><span style="color:#24292E;"> </span><span style="color:#032F62;">no</span></span></code></pre></div><h2 id="php8-2-swoole" tabindex="-1">PHP8.2 Swoole <a class="header-anchor" href="#php8-2-swoole" aria-label="Permalink to &quot;PHP8.2 Swoole&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swoole_8.2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\w</span><span style="color:#9ECBFF;">orkspace:/www</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9501</span><span style="color:#9ECBFF;">:9501</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9502</span><span style="color:#9ECBFF;">:9502</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9503</span><span style="color:#9ECBFF;">:9503</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hyperf/hyperf:8.2-alpine-v3.18-swoole-v5.0.3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swoole_8.2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\w</span><span style="color:#032F62;">orkspace:/www</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9501</span><span style="color:#032F62;">:9501</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9502</span><span style="color:#032F62;">:9502</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9503</span><span style="color:#032F62;">:9503</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hyperf/hyperf:8.2-alpine-v3.18-swoole-v5.0.3</span></span></code></pre></div><h2 id="php7-4-swoole" tabindex="-1">PHP7.4 Swoole <a class="header-anchor" href="#php7-4-swoole" aria-label="Permalink to &quot;PHP7.4 Swoole&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swoole_7.4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\w</span><span style="color:#9ECBFF;">orkspace:/www</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9504</span><span style="color:#9ECBFF;">:9504</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9505</span><span style="color:#9ECBFF;">:9505</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9506</span><span style="color:#9ECBFF;">:9506</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hyperf/hyperf:7.4-alpine-v3.15-swoole-v4.8.11</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swoole_7.4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\w</span><span style="color:#032F62;">orkspace:/www</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9504</span><span style="color:#032F62;">:9504</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9505</span><span style="color:#032F62;">:9505</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9506</span><span style="color:#032F62;">:9506</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hyperf/hyperf:7.4-alpine-v3.15-swoole-v4.8.11</span></span></code></pre></div><h2 id="php-fpm-nginx" tabindex="-1">PHP-fpm+nginx <a class="header-anchor" href="#php-fpm-nginx" aria-label="Permalink to &quot;PHP-fpm+nginx&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">php:7.4.33-fpm-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nginx_php74</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8080</span><span style="color:#9ECBFF;">:80</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">php:7.4.33-fpm-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">容器I</span><span style="color:#E1E4E8;">D</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/bin/bash</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">或者</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/bin/sh</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># windows中用powerShell</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;"># 容器中运行</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">apk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nginx</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">ngxin</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 启动nginx</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">docker-php-ext-install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pdo_mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">opcache</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqli</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pull</span><span style="color:#24292E;"> </span><span style="color:#032F62;">php:7.4.33-fpm-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nginx_php74</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">8080</span><span style="color:#032F62;">:80</span><span style="color:#24292E;"> </span><span style="color:#032F62;">php:7.4.33-fpm-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">容器I</span><span style="color:#24292E;">D</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/bin/bash</span><span style="color:#24292E;"> </span><span style="color:#032F62;">或者</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/bin/sh</span><span style="color:#24292E;">  </span><span style="color:#6A737D;"># windows中用powerShell</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;"># 容器中运行</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">apk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nginx</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ngxin</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 启动nginx</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">docker-php-ext-install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pdo_mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">opcache</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqli</span></span></code></pre></div><h2 id="docker-镜像源配置" tabindex="-1">docker 镜像源配置 <a class="header-anchor" href="#docker-镜像源配置" aria-label="Permalink to &quot;docker 镜像源配置&quot;">​</a></h2><p>追加配置文件 配置国内镜像源 , 同时<code>关闭</code>VPN,否则都无法下载镜像</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;registry-mirrors&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;https://docker.mirrors.ustc.edu.cn/&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;registry-mirrors&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;https://docker.mirrors.ustc.edu.cn/&quot;</span></span>
<span class="line"><span style="color:#24292E;">  ]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div>`,25),e=[o];function c(t,r,y,E,F,i){return a(),n("div",null,e)}const h=s(p,[["render",c]]);export{C as __pageData,h as default};
