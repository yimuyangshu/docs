import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.01af844e.js";const h=JSON.parse('{"title":"常用命令行","description":"","frontmatter":{},"headers":[],"relativePath":"Shell/shell.md","filePath":"Shell/shell.md"}'),p={name:"Shell/shell.md"},o=l(`<h1 id="常用命令行" tabindex="-1">常用命令行 <a class="header-anchor" href="#常用命令行" aria-label="Permalink to &quot;常用命令行&quot;">​</a></h1><h2 id="命令行" tabindex="-1">命令行 <a class="header-anchor" href="#命令行" aria-label="Permalink to &quot;命令行&quot;">​</a></h2><table><thead><tr><th>描述</th><th>命令</th></tr></thead><tbody><tr><td>查看本机公网IP</td><td>curl ip.sb</td></tr><tr><td>查看TCP进程</td><td>netstat -nltp</td></tr><tr><td>查看UDP进程</td><td>netstat -udpl</td></tr><tr><td>netcat连接UDP(yum install nc)</td><td>nc -u 127.0.0.1 9999</td></tr><tr><td>查看归属于某个进程的子进程</td><td>pstree -p 进程号(PID)</td></tr><tr><td>关键词包含PHP的进程</td><td>ps -ef | grep php</td></tr><tr><td>查看系统进程</td><td>ps aux | grep php</td></tr><tr><td>实时读取文件内容</td><td>tail -f filename</td></tr><tr><td>重载nginx</td><td>service nginx reload</td></tr><tr><td>查看PHP的swoole扩展</td><td>php --ri swoole</td></tr><tr><td>压缩文件夹</td><td>tar -zcvf xxx.tar.gz /xxx</td></tr><tr><td>查询目录内所有文件中包含关键词的文件(不区分大小写 -i)</td><td>grep -R -w -l -i &quot;关键词&quot; 目录地址</td></tr><tr><td>防火墙 ...禁用</td><td>systemctl status|stop|restart|disable firewalld.service</td></tr><tr><td>查看进程列表</td><td>ps axu</td></tr><tr><td>查找之前第23天修改过的内容</td><td>find /var/log/ -mtime 23 -type f -print <br> +n 表示n天之前；-n 表示n天以内；n 表示第n天的时候。</td></tr><tr><td>查看当前文件夹内每个文件夹大小</td><td>ls lh</td></tr><tr><td>查看当前文件夹总大小</td><td>du -sh</td></tr><tr><td>以后台进程的方式运行</td><td>nohup php swoole.php &gt; /dev/null 2&gt;&amp;1 &amp;</td></tr><tr><td>执行命令行后将返回结果写入到文件中</td><td>命令行 &amp;&gt; /tmp/output.txt</td></tr><tr><td>查看本地IP地址</td><td>curl ifconfig.me</td></tr><tr><td>查看公网IP地址(windows)</td><td>curl ipinfo.io/ip</td></tr><tr><td>查看liunx当前的操作系统</td><td>cat /etc/os-release</td></tr><tr><td>通过7890代理访问google</td><td>curl --proxy 127.0.0.1:7890 <a href="https://www.google.com" target="_blank" rel="noreferrer">https://www.google.com</a></td></tr><tr><td>查看正在使用的端口/连接信息</td><td>netstat -ant <br> netstat -nltp</td></tr></tbody></table><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><table><thead><tr><th>命令</th><th>名称</th></tr></thead><tbody><tr><td>telnet</td><td>yum install -y telnet.x86_64</td></tr><tr><td>nohup</td><td>yum install coreutils</td></tr><tr><td>netcat</td><td>yum install nc</td></tr></tbody></table><h2 id="virtualbox-桥接网卡配置" tabindex="-1">Virtualbox 桥接网卡配置 <a class="header-anchor" href="#virtualbox-桥接网卡配置" aria-label="Permalink to &quot;Virtualbox 桥接网卡配置&quot;">​</a></h2><blockquote><p>vi /etc/sysconfig/network-scripts/ifcfg-enp0s3</p></blockquote><blockquote><p>systemctl restart network</p></blockquote><div class="language-Shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">TYPE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Ethernet</span></span>
<span class="line"><span style="color:#E1E4E8;">PROXY_METHOD</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">none</span></span>
<span class="line"><span style="color:#E1E4E8;">BROWSER_ONLY</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">no</span></span>
<span class="line"><span style="color:#E1E4E8;">DEFROUTE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">yes</span></span>
<span class="line"><span style="color:#E1E4E8;">IPV4_FAILURE_FATAL</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">no</span></span>
<span class="line"><span style="color:#E1E4E8;">DEVICE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">enp0s3</span></span>
<span class="line"><span style="color:#E1E4E8;">ONBOOT</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">yes</span></span>
<span class="line"><span style="color:#E1E4E8;">BOOTPROTO</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">dhcp</span></span>
<span class="line"><span style="color:#E1E4E8;">NAME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">enp0s3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">TYPE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Ethernet</span></span>
<span class="line"><span style="color:#24292E;">PROXY_METHOD</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">none</span></span>
<span class="line"><span style="color:#24292E;">BROWSER_ONLY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">no</span></span>
<span class="line"><span style="color:#24292E;">DEFROUTE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">yes</span></span>
<span class="line"><span style="color:#24292E;">IPV4_FAILURE_FATAL</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">no</span></span>
<span class="line"><span style="color:#24292E;">DEVICE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">enp0s3</span></span>
<span class="line"><span style="color:#24292E;">ONBOOT</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">yes</span></span>
<span class="line"><span style="color:#24292E;">BOOTPROTO</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">dhcp</span></span>
<span class="line"><span style="color:#24292E;">NAME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">enp0s3</span></span></code></pre></div><h2 id="安装-wrk" tabindex="-1">安装 wrk <a class="header-anchor" href="#安装-wrk" aria-label="Permalink to &quot;安装 wrk&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># Alpine linux</span></span>
<span class="line"><span style="color:#B392F0;">apk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build-base</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 安装 gcc</span></span>
<span class="line"><span style="color:#B392F0;">apk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">make</span></span>
<span class="line"><span style="color:#B392F0;">apk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">perl</span></span>
<span class="line"><span style="color:#B392F0;">apk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">openssl-dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/wg/wrk.git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wrk</span></span>
<span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wrk</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clean</span></span>
<span class="line"><span style="color:#B392F0;">make</span></span>
<span class="line"><span style="color:#B392F0;">cp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wrk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">wrk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">线程</span><span style="color:#E1E4E8;">数</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">连接</span><span style="color:#E1E4E8;">数</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">持续时</span><span style="color:#E1E4E8;">间</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">脚本文</span><span style="color:#E1E4E8;">件</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">UR</span><span style="color:#E1E4E8;">L</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># Alpine linux</span></span>
<span class="line"><span style="color:#6F42C1;">apk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build-base</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 安装 gcc</span></span>
<span class="line"><span style="color:#6F42C1;">apk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">make</span></span>
<span class="line"><span style="color:#6F42C1;">apk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">perl</span></span>
<span class="line"><span style="color:#6F42C1;">apk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">openssl-dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/wg/wrk.git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wrk</span></span>
<span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wrk</span></span>
<span class="line"><span style="color:#6F42C1;">make</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clean</span></span>
<span class="line"><span style="color:#6F42C1;">make</span></span>
<span class="line"><span style="color:#6F42C1;">cp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wrk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">wrk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">线程</span><span style="color:#24292E;">数</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-c</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">连接</span><span style="color:#24292E;">数</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">持续时</span><span style="color:#24292E;">间</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-s</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">脚本文</span><span style="color:#24292E;">件</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">UR</span><span style="color:#24292E;">L</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h2 id="关闭aliyundun" tabindex="-1">关闭Aliyundun <a class="header-anchor" href="#关闭aliyundun" aria-label="Permalink to &quot;关闭Aliyundun&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://update.aegis.aliyun.com/download/uninstall.sh</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">uninstall.sh</span></span>
<span class="line"><span style="color:#B392F0;">./uninstall.sh</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://update.aegis.aliyun.com/download/quartz_uninstall.sh</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">quartz_uninstall.sh</span></span>
<span class="line"><span style="color:#B392F0;">./quartz_uninstall.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">pkill</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">aliyun-service</span></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-fr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/init.d/agentwatch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/sbin/aliyun-service</span></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/aegis</span><span style="color:#79B8FF;">*</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://update.aegis.aliyun.com/download/uninstall.sh</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">uninstall.sh</span></span>
<span class="line"><span style="color:#6F42C1;">./uninstall.sh</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://update.aegis.aliyun.com/download/quartz_uninstall.sh</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">quartz_uninstall.sh</span></span>
<span class="line"><span style="color:#6F42C1;">./quartz_uninstall.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">pkill</span><span style="color:#24292E;"> </span><span style="color:#032F62;">aliyun-service</span></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-fr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/init.d/agentwatch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/sbin/aliyun-service</span></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/aegis</span><span style="color:#005CC5;">*</span></span></code></pre></div>`,13),t=[o];function e(r,c,y,E,d,i){return a(),n("div",null,t)}const u=s(p,[["render",e]]);export{h as __pageData,u as default};
